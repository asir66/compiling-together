这个实验其实是教我们使用yacc，并且写文法分析文件的。

actually，我认为这里应该放在语义分析那一章给我们讲的。

那我们这里写的.y文件是什么呢？actually是文法规定文件而已，或者说文法定义文件。因为其实语法分析和语义分析都是基于文法，在加上语法分析以及后面的几乎前端的工作都是通过语法制导实现的。所以我们实现了语法制导也就实现了大多数的工作了

# 认识.y文件
和.l文件很像，就是
1. 定义段
2. 规则段
3. 辅助函数段

在定义段和规则段中间有规则声明段

其中第二部分可以对终结符和非终结符做一些相关规定声明：
1. %token：用于声明**终结符**（token），也就是由词法分析器（Flex）返回的基本单元。
   等价于在 `parser.tab.h` 中自动生成
2. %left %right %nonassoc![[Pasted image 20250601002218.png]]
3. %union：定义一个联合体，指定所有 token 或非终结符的值类型。这个是和 `%type` 和 `%token <type>` 联合使用的。
4. %start：指定起始符号（默认是第一个规则的左边符号）![[Pasted image 20250601002332.png]]

且在声明阶段可以确定优先级，优先级从上到下递增。即
越下优先级越高

其次中间的就是文法部分了。
所以说其实学到现在这里我们就已经将编译器前端的几乎所有的知识都学的差不多了。就是设计文法、设计词法规则需要开动聪明的小脑瓜。其他的都不是很需要。都有自动化工具帮助我们了。

